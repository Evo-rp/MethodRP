"use strict";(self.webpackChunksandbox_phone=self.webpackChunksandbox_phone||[]).push([[9530],{79530:(e,t,r)=>{r.r(t),r.d(t,{default:()=>q});var n=r(89526),a=r(92070),o=r(59934),i=r(76137),c=r(16743),l=r(25385),u=r(50563),s=r(88590),d=r(14710),m=r(33933),f=r(16025),p=r(72016),h=r(72215),b=r(91153),v=r(77548),y=r(23646),g=r(99494),E=r(40438),w=r(94882),k=r(14795),x=r(2029),N=r(13552),I=r(21722),S=r(71529),O=r(57170),Z=r(42282),P=r(30909),C=r(21447),L=r(87961),G=r(41416);function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==j(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==j(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===j(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W(){W=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),c=new I(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var d={};function m(){}function f(){}function p(){}var h={};l(h,o,(function(){return this}));var b=Object.getPrototypeOf,v=b&&b(b(S([])));v&&v!==t&&r.call(v,o)&&(h=v);var y=p.prototype=m.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function a(n,o,i,c){var l=s(e[n],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==j(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){a(e,r,t,n)}))}return o=o?o.then(n,n):n()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return O()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=k(i,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function k(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:O}}function O(){return{value:void 0,done:!0}}return f.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:f,configurable:!0}),f.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=S,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),N(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;N(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function T(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function U(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){T(o,n,a,i,c,"next",e)}function c(e){T(o,n,a,i,c,"throw",e)}i(void 0)}))}}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function B(){return B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B.apply(this,arguments)}var J=(0,S.Z)((function(e){return{wrapper:{height:"100%",background:e.palette.secondary.main},header:{background:e.palette.primary.main,fontSize:20,padding:15,lineHeight:"45px",height:78},content:{height:"83.6%",overflowY:"auto",overflowX:"hidden","&::-webkit-scrollbar":{width:6},"&::-webkit-scrollbar-thumb":{background:"#ffffff52"},"&::-webkit-scrollbar-thumb:hover":{background:e.palette.primary.main},"&::-webkit-scrollbar-track":{background:"transparent"}},headerAction:{textAlign:"right","&:hover":{color:e.palette.text.main,transition:"color ease-in 0.15s"}},workplaceAction:{fontSize:14},management:{fontSize:14,color:"gold",marginRight:5},item:{borderBottom:"1px solid ".concat(e.palette.border.divider),"&:first-of-type":{borderTop:"1px solid ".concat(e.palette.border.divider)}},editorField:{marginBottom:15},emptyMsg:{width:"100%",textAlign:"center",fontSize:20,fontWeight:"bold",marginTop:"25%"},ownerBtn:{display:"block","&:not(:last-of-type)":{marginBottom:15}}}})),R=(0,i.ZP)((function(e){return n.createElement(c.Z,B({TransitionProps:{unmountOnExit:!0},disableGutters:!0,elevation:0,square:!0},e))}))((function(e){var t=e.theme;return{background:"transparent",borderBottom:"1px solid ".concat(t.palette.border.divider),"&:before":{display:"none"}}})),z=(0,i.ZP)((function(e){return n.createElement(l.Z,B({expandIcon:n.createElement(O.G,{icon:["fas","caret-down"]})},e))}))((function(e){var t=e.theme;return{width:"100%",background:"transparent",flexDirection:"row-reverse","& .MuiAccordionSummary-expandIconWrapper":{fontSize:20,color:t.palette.primary.main,transform:"rotate(-90deg)",transition:"0.25s","&.Mui-expanded":{transform:"rotate(0deg)"}},"& .MuiAccordionSummary-content":{margin:0,marginLeft:t.spacing(1)}}})),V=(0,i.ZP)(u.Z)((function(e){return{padding:e.theme.spacing(0),borderTop:"1px solid rgba(0, 0, 0, .125)"}}));const q=function(e){var t=e.refreshRoster,r=e.jobData,i=e.playerJob,c=J(),l=(0,L.VY)(),u=(0,o.k6)(),S=(0,L.Gt)(),j=((0,L.AA)(),(0,a.v9)((function(e){return e.data.data.player}))),A=(0,a.v9)((function(e){return e.data.data.NamedJobPermissions})),_=j.SID==(null==r?void 0:r.Owner),T={Id:"",Name:"",Level:1,Permissions:Object()},M=F((0,n.useState)(!1),2),B=M[0],q=M[1],Y=F((0,n.useState)(!1),2),H=Y[0],X=Y[1],$=F((0,n.useState)(!1),2),K=$[0],Q=$[1],ee=F((0,n.useState)(null),2),te=ee[0],re=ee[1],ne=F((0,n.useState)(!1),2),ae=ne[0],oe=ne[1],ie=F((0,n.useState)(!1),2),ce=ie[0],le=ie[1],ue=F((0,n.useState)(null),2),se=ue[0],de=ue[1],me=F((0,n.useState)(null),2),fe=me[0],pe=me[1],he=F((0,n.useState)(!1),2),be=(he[0],he[1],F((0,n.useState)(!1),2)),ve=be[0],ye=be[1],ge=F((0,n.useState)(!1),2),Ee=ge[0],we=ge[1],ke=function(){u.goBack()},xe=function(){var e=U(W().mark((function e(r){var n;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),le(!0),e.prev=2,e.next=5,C.Z.send("EditWorkplace",{JobId:se.JobId,WorkplaceId:se.Id,NewName:se.Name});case 5:return e.next=7,e.sent.json();case 7:if(!(n=e.sent).success){e.next=13;break}l("Workplace Updated"),t(),e.next=22;break;case 13:e.t0=n.code,e.next="INVALID_PERMISSIONS"===e.t0?16:"MISSING_JOB"===e.t0?18:(e.t0,20);break;case 16:return l("Not Authorized"),e.abrupt("break",22);case 18:return l("Workplace Doesn't Exist"),e.abrupt("break",22);case 20:return l("Unable to Update Workplace"),e.abrupt("break",22);case 22:e.next=28;break;case 24:e.prev=24,e.t1=e.catch(2),console.log(e.t1),l("Unable to Update Workplace");case 28:le(!1);case 29:case"end":return e.stop()}}),e,null,[[2,24]])})));return function(t){return e.apply(this,arguments)}}(),Ne=function(){var e=U(W().mark((function e(r){var n;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),le(!0),e.prev=2,e.next=5,C.Z.send(fe.edit?"EditGrade":"CreateGrade",fe);case 5:return e.next=7,e.sent.json();case 7:if(!(n=e.sent).success){e.next=13;break}l("Grade ".concat(fe.edit?"Updated":"Created")),t(),e.next=20;break;case 13:e.t0=n.code,e.next="ERROR"===e.t0?16:"INVALID_PERMISSIONS"===e.t0?18:16;break;case 16:return l("Unable To ".concat(fe.edit?"Update":"Create"," Grade")),e.abrupt("break",20);case 18:return l("Not Authorized"),e.abrupt("break",20);case 20:e.next=26;break;case 22:e.prev=22,e.t1=e.catch(2),console.log(e.t1),l("Unable to ".concat(fe.edit?"Update":"Create"," Grade"));case 26:le(!1);case 27:case"end":return e.stop()}}),e,null,[[2,22]])})));return function(t){return e.apply(this,arguments)}}(),Ie=function(){var e=U(W().mark((function e(){var r;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ye(!1),le(!0),e.prev=2,e.next=5,C.Z.send("DeleteGrade",fe);case 5:return e.next=7,e.sent.json();case 7:if(!(r=e.sent).success){e.next=13;break}l("Grade Deleted"),t(),e.next=24;break;case 13:e.t0=r.code,e.next="INVALID_PERMISSIONS"===e.t0?16:"JOB_OCCUPIED"===e.t0?18:"MISSING_JOB"===e.t0?20:(e.t0,22);break;case 16:return l("Not Authorized"),e.abrupt("break",24);case 18:return l("Cannot Delete a Grade With Employees In"),e.abrupt("break",24);case 20:return l("Grade Doesn't Exist"),e.abrupt("break",24);case 22:return l("Unable to Delete Grade"),e.abrupt("break",24);case 24:e.next=30;break;case 26:e.prev=26,e.t1=e.catch(2),console.log(e.t1),l("Unable to Delete Grade");case 30:le(!1);case 31:case"end":return e.stop()}}),e,null,[[2,26]])})));return function(){return e.apply(this,arguments)}}(),Se=function(){var e=U(W().mark((function e(r){var n;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),_){e.next=3;break}return e.abrupt("return");case 3:return le(!0),e.prev=4,e.next=7,C.Z.send("RenameCompany",r.target.name.value);case 7:return e.next=9,e.sent.json();case 9:if(!(n=e.sent).success){e.next=15;break}l("Company Name Updated"),t(),e.next=22;break;case 15:e.t0=n.code,e.next="INVALID_PERMISSIONS"===e.t0?18:(e.t0,20);break;case 18:return l("Not Authorized"),e.abrupt("break",22);case 20:return l("Unable To Edit Company"),e.abrupt("break",22);case 22:e.next=28;break;case 24:e.prev=24,e.t1=e.catch(4),console.log(e.t1),l("Unable to Edit Company");case 28:le(!1);case 29:case"end":return e.stop()}}),e,null,[[4,24]])})));return function(t){return e.apply(this,arguments)}}(),Oe=function(){var e=U(W().mark((function e(t){var r;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),_){e.next=3;break}return e.abrupt("return");case 3:return le(!0),e.prev=4,e.next=7,C.Z.send("DisbandCompany");case 7:return e.next=9,e.sent.json();case 9:if(!(r=e.sent).success){e.next=15;break}l("Company Has Been Deleted"),ke(),e.next=22;break;case 15:e.t0=r.code,e.next="INVALID_PERMISSIONS"===e.t0?18:(e.t0,20);break;case 18:return l("Not Authorized"),e.abrupt("break",22);case 20:return l("Unable to Disband Company"),e.abrupt("break",22);case 22:e.next=28;break;case 24:e.prev=24,e.t1=e.catch(4),console.log(e.t1),l("Unable to Disband Company");case 28:Q(!1),le(!1);case 30:case"end":return e.stop()}}),e,null,[[4,24]])})));return function(t){return e.apply(this,arguments)}}(),Ze=function(){var e=U(W().mark((function e(r){var n;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),_){e.next=3;break}return e.abrupt("return");case 3:return le(!0),e.prev=4,e.next=7,C.Z.send("TransferCompany",{target:te.target});case 7:return e.next=9,e.sent.json();case 9:if(!(n=e.sent).success){e.next=15;break}l("Company Ownership Has Been Transfered"),t(),e.next=22;break;case 15:e.t0=n.code,e.next="INVALID_PERMISSIONS"===e.t0?18:(e.t0,20);break;case 18:return l("Not Authorized"),e.abrupt("break",22);case 20:return l("Unable to Disband Company"),e.abrupt("break",22);case 22:e.next=28;break;case 24:e.prev=24,e.t1=e.catch(4),console.log(e.t1),l("Unable To Transfer Company Ownership");case 28:oe(!1),re(null),le(!1);case 31:case"end":return e.stop()}}),e,null,[[4,24]])})));return function(t){return e.apply(this,arguments)}}();return n.createElement("div",{className:c.wrapper},n.createElement(s.Z,{position:"static",className:c.header},n.createElement(d.ZP,{container:!0},n.createElement(d.ZP,{item:!0,xs:7},n.createElement(Z.Z,{lines:1},r.Name)),n.createElement(d.ZP,{item:!0,xs:5,className:c.headerAction},_&&n.createElement(m.Z,{title:"Company Owner Menu"},n.createElement(f.Z,{onClick:function(){return q(!0)}},n.createElement(O.G,{icon:["fas","gear"]}))),!r.Workplaces&&n.createElement(m.Z,{title:"Create New Grade"},n.createElement(f.Z,{onClick:function(){return pe(D({JobId:r.Id,WorkplaceId:null},T))}},n.createElement(O.G,{icon:["fas","plus"]}))),n.createElement(m.Z,{title:"Force Refresh"},n.createElement(f.Z,{onClick:function(){return t()},disabled:ce},n.createElement(O.G,{className:"fa ".concat(ce?"fa-spin":""),icon:["fas","arrows-rotate"]}))),n.createElement(m.Z,{title:"Home"},n.createElement(f.Z,{onClick:ke},n.createElement(O.G,{icon:["fas","house"]})))))),n.createElement("div",{className:c.content},r.Workplaces&&r.Workplaces.length>0?r.Workplaces.map((function(e){return n.createElement(R,{key:"wp-".concat(e.Id),expanded:Ee==e.Id,onChange:(t=e.Id,function(e,r){we(!!r&&t)})},n.createElement(p.Z,{style:{width:"100%"}},n.createElement(z,{expandIcon:n.createElement(O.G,{icon:["fas","caret-down"]})},n.createElement(h.Z,{dense:!0},n.createElement(b.ZP,null,n.createElement(v.Z,{primary:e.Name,secondary:"".concat(e.Grades.length," Grades")}))))),n.createElement(V,null,n.createElement(h.Z,null,n.createElement(b.ZP,null,n.createElement(d.ZP,{container:!0,style:{textAlign:"center"}},n.createElement(d.ZP,{item:!0,xs:6},n.createElement(m.Z,{title:"Create New Grade"},n.createElement(f.Z,{onClick:function(){return pe(D(D({},T),{},{JobId:r.Id,WorkplaceId:e.Id}))},className:c.workplaceAction},n.createElement(O.G,{icon:["fas","plus"]})))),n.createElement(d.ZP,{item:!0,xs:6},n.createElement(m.Z,{title:"Edit Workplace"},n.createElement(f.Z,{onClick:function(){return de(D(D({JobId:r.Id},e),{},{edit:!0}))},className:c.workplaceAction},n.createElement(O.G,{icon:["fas","pen-to-square"]})))))),n.createElement(b.ZP,null,n.createElement(v.Z,{primary:"Grades"})),n.createElement(b.ZP,null,n.createElement(h.Z,{style:{width:"100%"}},e.Grades.sort((function(e,t){return e.Level-t.Level})).map((function(t){var a;return n.createElement(b.ZP,{button:t.Level<i.Grade.Level||_,key:"grade-".concat(t.Id),onClick:t.Level<i.Grade.Level||_?function(){return pe(D(D({},t),{},{JobId:r.Id,WorkplaceId:e.Id,edit:!0}))}:null,className:c.item},n.createElement(v.Z,{primary:n.createElement("span",null,(null==t||null===(a=t.Permissions)||void 0===a?void 0:a.JOB_MANAGEMENT)&&n.createElement(O.G,{className:c.management,icon:["fas","user-shield"]}),t.Name),secondary:"".concat(Object.keys(t.Permissions).filter((function(e){return t.Permissions[e]})).length," Permissions")}))})))))));var t})):n.createElement(h.Z,null,n.createElement(b.ZP,null,n.createElement(v.Z,{primary:"Grades"})),n.createElement(b.ZP,null,n.createElement(h.Z,{style:{width:"100%"}},r.Grades.map((function(e){var t;return n.createElement(b.ZP,{button:e.Level<i.Grade.Level||_,key:"grade-".concat(e.Id),onClick:e.Level<i.Grade.Level||_?function(){return pe(D(D({},e),{},{JobId:r.Id,WorkplaceId:null,edit:!0}))}:null,className:c.item},n.createElement(v.Z,{primary:n.createElement("span",null,(null==e||null===(t=e.Permissions)||void 0===t?void 0:t.JOB_MANAGEMENT)&&n.createElement(O.G,{className:c.management,icon:["fas","user-shield"]}),e.Name),secondary:"".concat(Object.keys(e.Permissions).filter((function(t){return e.Permissions[t]})).length," Permissions")}))}))))),n.createElement(G.I4,{title:"Delete Grade?",open:ve,confirm:"Yes",decline:"No",onConfirm:Ie,onDecline:function(){return ye(!1)}},n.createElement("p",null,"Deleting this grade will remove all permissions related to it and cannot be undone, are you sure?")),n.createElement(G.u_,{form:!0,formStyle:{position:"relative"},disabled:ce,open:null!=se,title:"Edit Workplace",onAccept:xe,onClose:function(){return de(null)},submitLang:"Edit"},null!=se&&n.createElement(n.Fragment,null,ce&&n.createElement(G.aN,{static:!0,text:"Submitting"}),n.createElement(y.Z,{fullWidth:!0,required:!0,label:"Workplace Name",name:"Name",disabled:ce,className:c.editorField,value:se.Name,onChange:function(e){return de(D(D({},se),{},{Name:e.target.value}))}}))),n.createElement(G.u_,{disabled:ce,form:!0,formStyle:{position:"relative"},open:null!=fe,title:"".concat(null!=fe&&fe.edit?"Edit":"Create"," Grade"),onAccept:Ne,onClose:function(){return pe(null)},onDelete:null==fe||!fe.edit||null!=fe&&fe.Owner?null:function(){return ye(!0)},submitLang:null!=fe&&fe.edit?"Edit":"Create"},null!=fe&&n.createElement(n.Fragment,null,ce&&n.createElement(G.aN,{static:!0,text:"Submitting"}),n.createElement(y.Z,{fullWidth:!0,required:!0,label:"Grade Name",name:"Name",disabled:ce,className:c.editorField,value:fe.Name,onChange:function(e){return pe(D(D({},fe),{},{Name:e.target.value}))}}),n.createElement(P.Z,{fullWidth:!0,required:!0,label:"Grade Level",helperText:"This determines where in the rank heirarchy this grade falls",name:"Level",disabled:fe.Owner||ce,className:c.editorField,value:fe.Level,onChange:function(e){return pe(D(D({},fe),{},{Level:e.target.value}))},type:"tel",isNumericString:!0,customInput:y.Z}),n.createElement(g.Z,{fullWidth:!0,className:c.editorField},n.createElement(E.Z,{id:"grade-perms"},"Permissions"),n.createElement(w.Z,{labelId:"grade-perms",multiple:!0,fullWidth:!0,disabled:fe.Owner||ce,value:Object.keys(fe.Permissions),onChange:function(e){var t=Object();e.target.value.map((function(e){t[e]=!0})),pe(D(D({},fe),{},{Permissions:t}))},input:n.createElement(k.Z,{fullWidth:!0,label:"Permissions"}),renderValue:function(e){return e.map((function(e){var t,r;return null!==(t=null===(r=A[e])||void 0===r?void 0:r.name)&&void 0!==t?t:e})).join(", ")}},Object.keys(A).filter((function(e){var t,n=A[e];return!n.restricted||(null===(t=n.restricted)||void 0===t?void 0:t.includes(null==r?void 0:r.Id))})).sort().map((function(e){var t,a=A[e];return n.createElement(x.Z,{key:"perm-".concat(e),value:e,disabled:!S(e,null==r?void 0:r.Id)&&!_},n.createElement(N.Z,{checked:Object.keys(fe.Permissions).indexOf(e)>-1}),n.createElement(v.Z,{primary:null!==(t=null==a?void 0:a.name)&&void 0!==t?t:e}))})))))),_&&n.createElement(n.Fragment,null,n.createElement(G.u_,{open:B,title:"Owner Actions",onClose:function(){return q(!1)},hideClose:!0},n.createElement(n.Fragment,null,n.createElement(I.Z,{fullWidth:!0,variant:"contained",className:c.ownerBtn,disabled:!0,onClick:function(){return Q(!0)}},"Disband Company"),n.createElement(I.Z,{fullWidth:!0,variant:"contained",className:c.ownerBtn,disabled:!0,onClick:function(){return re({target:""})}},"Transfer Company Ownership"))),n.createElement(G.u_,{form:!0,formStyle:{position:"relative"},disabled:ce,open:H,title:"Rename ".concat(r.Name),onAccept:Se,onClose:function(){return X(!1)},submitLang:"Submit"},n.createElement(n.Fragment,null,ce&&n.createElement(G.aN,{static:!0,text:"Submitting"}),n.createElement(y.Z,{fullWidth:!0,required:!0,label:"Company Name",name:"name",disabled:ce,className:c.editorField,defaultValue:r.Name}))),Boolean(te)&&n.createElement(n.Fragment,null,n.createElement(G.u_,{form:!0,formStyle:{position:"relative"},disabled:ce,open:!0,title:"Transfer ".concat(r.Name," Ownership"),onAccept:function(){return oe(!0)},onClose:function(){return re(null)},submitLang:"Transfer Ownership"},n.createElement(n.Fragment,null,ce&&n.createElement(G.aN,{static:!0,text:"Submitting"}),n.createElement(P.Z,{fullWidth:!0,required:!0,label:"Target State ID",name:"target",className:c.editorField,value:te.target,disabled:ce,onChange:function(e){return re(D(D({},te),{},{target:e.target.value}))},type:"tel",isNumericString:!0,customInput:y.Z}))),n.createElement(G.I4,{title:"Transfer Company?",open:ae,confirm:"Yes",decline:"No",onConfirm:Ze,onDecline:function(){return oe(!1)}},n.createElement("p",null,"Transfering company will transfer full ownership of company & associated assets."),n.createElement("p",null,"This is not reversable, if you proceed you will lose all control over the company."))),n.createElement(G.I4,{title:"Disband Company?",open:K,confirm:"Yes",decline:"No",onConfirm:Oe,onDecline:function(){return Q(!1)}},n.createElement("p",null,"Disbanding the company will remove everyone employed, grades, upgrades, or any data or assets associated with your company."),n.createElement("p",null,"This is not reversable, if you proceed this company will be lost forever and you"," ",n.createElement("b",null,n.createElement("i",null,"WILL NOT"))," ","get any sort of refund for anything purchased for your company.")))))}}}]);