"use strict";(self.webpackChunksandbox_phone=self.webpackChunksandbox_phone||[]).push([[6051,3964],{3964:(e,t,n)=>{n.r(t),n.d(t,{DeleteEmail:()=>u,GPSRoute:()=>p,Hyperlink:()=>s,ReadEmail:()=>c});var r=n(21447);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(e){return function(t){r.Z.send("ReadEmail",e._id).then((function(n){t({type:"UPDATE_DATA",payload:{type:"emails",id:e._id,data:i(i({},e),{},{unread:!1})}})})).catch((function(e){}))}},u=function(e){return function(t){r.Z.send("DeleteEmail",e).then((function(){return t({type:"REMOVE_DATA",payload:{type:"emails",id:e}}),!0})).catch((function(e){return!1}))}},p=function(e,t){return function(n){r.Z.send("GPSRoute",{id:e,location:t}).then((function(e){n({type:"ALERT_SHOW",payload:{alert:"GPS Marked"}})})).catch((function(e){n({type:"ALERT_SHOW",payload:{alert:"Unable To Mark Location On GPS"}})}))}},s=function(e,t){return function(n){r.Z.send("Hyperlink",{id:e,hyperlink:t}).catch((function(e){n({type:"ALERT_SHOW",payload:{alert:"Unable To Open Hyperlink"}})}))}}},56051:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var r=n(89526),a=n(92070),o=n(59934),i=n(72757),l=n(14710),c=n(32165),u=n(71529),p=n(59324),s=n.n(p),m=n(3964),f=n(57170),d=(0,u.Z)((function(e){return{convo:{"&::before":{background:"transparent !important"},background:e.palette.secondary.dark,padding:"20px 12px",border:"1px solid rgba(0, 0, 0, .25)","&:not(:last-child)":{borderBottom:"none"},"&:hover":{background:e.palette.secondary.main,transition:"background ease-in 0.15s",cursor:"pointer"}},avatar:{color:e.palette.text.light,height:55,width:55,position:"relative",top:0},avatarUnread:{color:e.palette.text.light,background:e.palette.primary.main,height:55,width:55,position:"relative",top:0},sender:{fontSize:18,color:e.palette.text.main},senderUnread:{fontSize:18,color:e.palette.primary.main,fontWeight:"bold"},time:{fontSize:12,color:e.palette.text.main,float:"right",lineHeight:"25px"},subject:{fontSize:16,color:e.palette.text.light,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",marginTop:5,maxWidth:"90%"},body:{fontSize:14,color:e.palette.text.main,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",marginTop:5,maxWidth:"90%"},specialIcon:{position:"absolute",right:0,bottom:0,fontSize:20}}}));const b=(0,a.$j)(null,{DeleteEmail:m.DeleteEmail})((function(e){var t,n,a,u=d(),p=(0,o.k6)();return(0,r.useEffect)((function(){var t=null;return null!=e.email.flags&&null!=e.email.flags.expires&&(t=setInterval((function(){e.email.flags.expires<Date.now()&&e.DeleteEmail(e.email._id)}),2500)),function(){clearInterval(t)}}),[]),r.createElement(i.Z,{className:u.convo,onClick:function(){p.push("/apps/email/view/".concat(e.email._id))}},r.createElement(l.ZP,{container:!0},r.createElement(l.ZP,{item:!0,xs:2,style:{position:"relative"}},r.createElement(c.Z,{className:e.email.unread?u.avatarUnread:u.avatar},null!==(t=null===(n=e.email.sender)||void 0===n||null===(a=n.charAt(0))||void 0===a?void 0:a.toUpperCase())&&void 0!==t?t:"?")),r.createElement(l.ZP,{item:!0,xs:10,style:{position:"relative"}},r.createElement("div",null,r.createElement("span",{className:e.email.unread?u.senderUnread:u.sender},e.email.sender),r.createElement("div",{className:u.time},r.createElement(s(),{interval:6e4,fromNow:!0},+e.email.time))),null!=e.email.flags?r.createElement(f.G,{className:u.specialIcon,icon:["fas","flag"]}):null,r.createElement("div",{className:u.subject},e.email.subject))))}))}}]);